<!doctype html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<title>Presentation Pierre BOQUET</title>
		<meta name="description" content="A framework for easily creating beautiful presentations using HTML">
		<meta name="author" content="jambonbill">
		<meta name="apple-mobile-web-app-capable" content="yes">
		<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<meta name="theme-color" content="#000000">
		<link rel="manifest" href="manifest.json">
		<link rel="stylesheet" href="dist/reset.css">
		<link rel="stylesheet" href="dist/reveal.css">
		<link rel="stylesheet" href="dist/theme/black.css" id="theme">
		<!-- Theme used for syntax highlighting of code -->
		<link rel="stylesheet" href="plugin/highlight/monokai.css">
	</head>
	
	<body>
		<div class="reveal">
			<!-- Any section element inside of this container is displayed as a slide -->
			<div class="slides">
				<section>
	
	<h3>Bonjour</h3>	
	
</section>
<section>
	
	
	<h3>Bonjour</h3>
	
	<p>
		<small>my name is ...</small>
	</p>

	<section>
		Pierre BOQUET
	</section>

	<section>
		<img data-src="img/github-jambonbill.png"></img>
	</section>

	<section>
		<img data-src="img/portfolio.png"></img>
	</section>
	
	

</section>
<section>
	
    
	
	<h3>Constructions Incongrues</h3>
	
	<p>
		<small>On sait fabriquer du web et on compte bien en faire profiter les personnes qui le souhaitent</small>
	</p>

    <section><img class="r-frame"  data-src="img/logo-constructions.png"></section>

    <section>
        Nous aidons les projets qui nous plaisent à avoir une présence numérique de qualité en fournissant du conseil, du développement et de l’infogérance.
    </section>
     

</section>
<section>
	
	<h3>Remerciements</h3>
	
	<section></section>
	
	<section>
		Tristan Rivoallan
	</section>

	<section>
		David Legrand
	</section>

	<section>
		Afpa de Mornac
	</section>

	<section>
		Vous
	</section>

</section>
<section>
	
	<h3>Introduction</h3>
	
    <ol>
        <li class="fragment">Constructions Incongrues héberge un forum</li>
        <li class="fragment">Le commanditaire souhaite exploiter les liens</li>
        <li class="fragment">Constructions Incongrues propose une solution</li>
    </ol>
	
	</section>

</section>
<section>
	
	<h3>Yazoo!</h3>

</section>
<section>
	
	<h3>Expression des besoins</h3>
	
	<p>
		<small>Fonctionnalités</small>
	</p>

	<ul>
		<li class="fragment">Extraction des liens du forum et agrégation</li>	
		<li class="fragment">Analyse et traitement régulier des liens</li>
		<li class="fragment">Fonctionnement autonome/orchestré</li>
		<li class="fragment">Interface “mobile first”</li>
		<li class="fragment">Progressive Web App</li>
		<li class="fragment">API REST</li>
		<li class="fragment">Commandes Shell</li>
	</ul>
	


	</section>

</section>
<section>
	
	<h3>Diagrame de cas d'utilisation</h3>
	
    <img src="img/diagrame.png">

	</section>

</section>
<section>
	
	<h3>Exigences non fonctionelles</h3>		
	
	<ul>
		<li class="fragment">Performance</li>	
		<li class="fragment">Sécurité</li>
		<li class="fragment">Simplicité</li>
		<li class="fragment">Licence AGPLv3</li>
		<li class="fragment">Semantic versioning</li>
	</ul>
	
</section>
<section>
	
	<h3>Exigences techniques</h3>		
	
	<section>
		<img src="img/logo-github.png">
	</section>
	
    <section>
		<img src="img/directus.png"><br />
		open-source headless CMS
	</section>
	
    <section>
		<img src="img/logo-n8n.png">
	</section>

	<section>
		<img src="img/n8n-workflow.png">
	</section>

	<section>
		OpenAPI<br />
		<img src="img/openAPI-3.1.0.png">
	</section>

	<section>
		<img src="img/docker.png">
	</section>


</section>
<section>
	
	<h3>Specifications techniques</h3>
	
	<ol>
		<li class="fragment">PHP8 et Symfony 6.3.8 (Stable)</li>
		<li class="fragment">ORM Doctrine</li>
		<li class="fragment">API OpenAPI </li>
		<li class="fragment">PHPUnit</li>
		<li class="fragment">Containers</li>
		<li class="fragment">Reverse proxy</li>
	</ol>

</section>
<section>
	
	<h3>Maquettes graphiques</h3>
	
	<p>
		<small>Wireframes avec Figma</small>
	</p>

    <section><img src="img/Figma-logo.webp"></section>
    <section><img src="img/zoning.png"></section>
    <section><img src="img/wireframe00.png"></section>
    <section><img src="img/wireframe01.png"></section>
    <section><img src="img/wireframe02.png"></section>
    <section><img src="img/wireframe03.png"></section>

</section>
<section>
	
	<h3>Les entites</h3>
	
	<section>        
        <img src="img/make-entity.png">
    </section>

    <section>        
        Link<br />
        <img src="img/entity-link.png">
    </section>

    <section>
        Blacklist<br />
        <img src="img/entity-blacklist.png">
    </section>

    <section>
        Discussion<br />
        <img src="img/entity-discussion.png">
    </section>
    

</section>
<section>
	
	<h3>API</h3>

    <section>
        NelmioApiDocBundle
        <img src="img/openapi-specification-logo.png">
    </section>

    <section>
        <img src="img/api-oas3.png">
    </section>

</section>
<section>
	
	<h3>Progressive Web App</h3>
    
    <section>
        <img src="img/pwa-banner.png">
    </section>

    <section>
        manifest.json
        <pre><code data-trim data-noescape class="hljs javascript">
    {
        "manifest_version": 2,
        "name": "Yazoo!",
        "short_name": "Yazoo",
        "description": "Moteur de recherche incongru",
        "start_url": ".",
        "scope": ".",
        "display": "standalone",
        "theme_color": "#000000",
        "background_color": "#2F2E39",
        "icons": [
        {
            "src": "./img/icon-256.png",
            "type": "image/png",
            "sizes": "256x256"
        }
        ]
    }</code></pre>
    </section>

    <section>
        Lighthouse report:
        <img src="img/pwa-lighthouse.png">
    </section>
    

</section>
<section>
	
	<h3>code</h3>
	
	
  <section>
    <pre><code data-trim data-noescape class="hljs php">
    /**
      * Add a blacklist record
      *
      * @param string $host
      * @return Blacklist
      */
     public function add(string $host): Blacklist
     {
         // Make sure host is not in list
         $found=$this->findOneBy(['host'=>$host]);
         
         if ($found) {
             return $found;
         }
 
         $blacklist=new Blacklist();
         $blacklist->setHost($host);
         $this->save($blacklist, true);
         return $blacklist;
     }
    </code></pre>
  </section>

  <section>
    <pre><code data-trim data-noescape class="hljs php">
      public function delete(Blacklist $entity): void
      {
          $entityManager = $this->getEntityManager();
          $entityManager->remove($entity);
          $entityManager->flush();
      }
    </code></pre>
  </section>

  <section>
    <pre><code data-trim data-noescape class="hljs php">
      public function isBlacklisted(string $url): bool
      {
          $parse=parse_url($url);
          if(!$parse)return false;
          $host=$parse['host'];
          $found=$this->findOneBy(['host'=>$host]);
  
          if ($found) {
              return true;
          }
  
          return false;
      }
    </code></pre>
  </section>

  <section>
    <pre><code data-trim data-noescape class="hljs php">
    /**
     * Get YT Video data from a given URL
     *
     * @param string $url
     * @return array
     */
    private function fetchSnippet(string $url): array
    {

        if (!$this->api_key) {
            throw new Exception("No Youtube API Key",1);
        }

        $videoId = $this->url2key($url);

        if (!$videoId) {
            return [];
        }

        $apiUrl = "https://www.googleapis.com/youtube/v3/videos?part=snippet&id=$videoId&key=" . $this->api_key;

        $response = file_get_contents($apiUrl);
        $data = json_decode($response, true);
        if ($data['items'] && count($data['items']) > 0) { //Got VIDEO
            return $data['items'][0]['snippet'];
        }
        return [];
    }
    </code></pre>
  </section>


  <section>
    Doctrine createQueryBuilder:
    <pre><code data-trim data-noescape class="hljs php">
    //(example)
    public function findImages(): array
    {
       return $this->createQueryBuilder('l')
          ->andWhere('l.status > 0')
          ->andWhere('l.mimetype LIKE :mimetype')
          ->setParameter('mimetype', 'image%')
          ->getQuery()
          ->getResult();
    }</code></pre>
  </section>

</section>
<section>
	
	<h3>GITHUB</h3>
	
  <section>
    <img src="img/github-main.png">
  </section>
	
  <section>
    <img src="img/github-branches.png">
  </section>

  <section>
    <img src="img/github-issues.png">
  </section>

  <section>
    <img src="img/github-security.png">
  </section>

  <section>
    <img src="img/github-deploy.png">
  </section>

</section>
<section>
	
	<h3>Merci</h3>

</section>
			</div>
		</div>

		<script src="dist/reveal.js"></script>
		<script src="plugin/zoom/zoom.js"></script>
		<script src="plugin/notes/notes.js"></script>
		<script src="plugin/search/search.js"></script>
		<script src="plugin/markdown/markdown.js"></script>
		<script src="plugin/highlight/highlight.js"></script>
		<script>
			// Also available as an ES module, see:
			// https://revealjs.com/initialization/
			Reveal.initialize({
				controls: true,
				progress: true,
				center: true,
				hash: true,
				// Learn about plugins: https://revealjs.com/plugins/
				plugins: [ RevealZoom, RevealNotes, RevealSearch, RevealMarkdown, RevealHighlight ]
			});
		</script>
	</body>
</html>
